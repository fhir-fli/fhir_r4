{
    "library": {
        "annotation": [
            {
                "translatorVersion": "3.18.0",
                "translatorOptions": "",
                "signatureLevel": "None",
                "type": "CqlToElmInfo"
            },
            {
                "message": "The function FHIRHelpers.ToString has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToString has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToInterval has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToInterval has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToInterval has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToInterval has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToInterval has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToString has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            },
            {
                "message": "The function FHIRHelpers.ToDateTime has multiple overloads and due to the SignatureLevel setting (None), the overload signature is not being included in the output. This may result in ambiguous function resolution at runtime, consider setting the SignatureLevel to Overloads or All to ensure that the output includes sufficient information to support correct overload selection at runtime.",
                "errorType": "semantic",
                "errorSeverity": "warning",
                "type": "CqlToElmError"
            }
        ],
        "identifier": {
            "id": "Exercises07Key"
        },
        "schemaIdentifier": {
            "id": "urn:hl7-org:elm",
            "version": "r1"
        },
        "usings": {
            "def": [
                {
                    "localIdentifier": "System",
                    "uri": "urn:hl7-org:elm-types:r1"
                },
                {
                    "localIdentifier": "FHIR",
                    "uri": "http://hl7.org/fhir",
                    "version": "4.0.1"
                }
            ]
        },
        "includes": {
            "def": [
                {
                    "localIdentifier": "FHIRHelpers",
                    "path": "FHIRHelpers",
                    "version": "4.0.1"
                }
            ]
        },
        "codeSystems": {
            "def": [
                {
                    "name": "LOINC",
                    "id": "http://loinc.org",
                    "accessLevel": "Public"
                },
                {
                    "name": "ActCode",
                    "id": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
                    "accessLevel": "Public"
                },
                {
                    "name": "MedicationRequestCategory",
                    "id": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "accessLevel": "Public"
                },
                {
                    "name": "ObservationCategory",
                    "id": "http://terminology.hl7.org/CodeSystem/observation-category",
                    "accessLevel": "Public"
                }
            ]
        },
        "valueSets": {
            "def": [
                {
                    "name": "Community Medication",
                    "id": "http://example.org/fhir/ValueSet/community-medication",
                    "accessLevel": "Public"
                },
                {
                    "name": "Vital Sign",
                    "id": "http://example.org/fhir/ValueSet/vital-sign",
                    "accessLevel": "Public"
                },
                {
                    "name": "Laboratory",
                    "id": "http://example.org/fhir/ValueSet/laboratory",
                    "accessLevel": "Public"
                }
            ]
        },
        "codes": {
            "def": [
                {
                    "name": "Blood Glucose",
                    "id": "2339-0",
                    "display": "Glucose Bld-mCnc",
                    "accessLevel": "Public",
                    "codeSystem": {
                        "name": "LOINC"
                    }
                },
                {
                    "name": "Inpatient Encounter",
                    "id": "IMP",
                    "display": "Inpatient Encounter",
                    "accessLevel": "Public",
                    "codeSystem": {
                        "name": "ActCode"
                    }
                }
            ]
        },
        "statements": {
            "def": [
                {
                    "name": "Final or Amended Quantitative Laboratory Results",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "O",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Observation",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                                    "codeProperty": "category",
                                    "codeComparator": "in",
                                    "type": "Retrieve",
                                    "codes": {
                                        "name": "Laboratory",
                                        "preserve": true,
                                        "type": "ValueSetRef"
                                    }
                                }
                            }
                        ],
                        "where": {
                            "type": "And",
                            "operand": [
                                {
                                    "type": "In",
                                    "operand": [
                                        {
                                            "name": "ToString",
                                            "libraryName": "FHIRHelpers",
                                            "type": "FunctionRef",
                                            "operand": [
                                                {
                                                    "path": "status",
                                                    "scope": "O",
                                                    "type": "Property"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "List",
                                            "element": [
                                                {
                                                    "valueType": "{urn:hl7-org:elm-types:r1}String",
                                                    "value": "final",
                                                    "type": "Literal"
                                                },
                                                {
                                                    "valueType": "{urn:hl7-org:elm-types:r1}String",
                                                    "value": "amended",
                                                    "type": "Literal"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Is",
                                    "operand": {
                                        "path": "value",
                                        "scope": "O",
                                        "type": "Property"
                                    },
                                    "isTypeSpecifier": {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                    }
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Quantitative Laboratory Encounters",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "E",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Encounter",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Encounter",
                                    "type": "Retrieve"
                                }
                            }
                        ],
                        "relationship": [
                            {
                                "alias": "O",
                                "type": "With",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Observation",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                                    "codeProperty": "category",
                                    "codeComparator": "in",
                                    "type": "Retrieve",
                                    "codes": {
                                        "name": "Laboratory",
                                        "preserve": true,
                                        "type": "ValueSetRef"
                                    }
                                },
                                "suchThat": {
                                    "type": "And",
                                    "operand": [
                                        {
                                            "type": "And",
                                            "operand": [
                                                {
                                                    "type": "In",
                                                    "operand": [
                                                        {
                                                            "name": "ToString",
                                                            "libraryName": "FHIRHelpers",
                                                            "type": "FunctionRef",
                                                            "operand": [
                                                                {
                                                                    "path": "status",
                                                                    "scope": "O",
                                                                    "type": "Property"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "List",
                                                            "element": [
                                                                {
                                                                    "valueType": "{urn:hl7-org:elm-types:r1}String",
                                                                    "value": "final",
                                                                    "type": "Literal"
                                                                },
                                                                {
                                                                    "valueType": "{urn:hl7-org:elm-types:r1}String",
                                                                    "value": "amended",
                                                                    "type": "Literal"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Is",
                                                    "operand": {
                                                        "path": "value",
                                                        "scope": "O",
                                                        "type": "Property"
                                                    },
                                                    "isTypeSpecifier": {
                                                        "name": "{http://hl7.org/fhir}Quantity",
                                                        "type": "NamedTypeSpecifier"
                                                    }
                                                }
                                            ]
                                        },
                                        {
                                            "type": "In",
                                            "operand": [
                                                {
                                                    "name": "ToDateTime",
                                                    "libraryName": "FHIRHelpers",
                                                    "type": "FunctionRef",
                                                    "operand": [
                                                        {
                                                            "strict": false,
                                                            "type": "As",
                                                            "operand": {
                                                                "path": "effective",
                                                                "scope": "O",
                                                                "type": "Property"
                                                            },
                                                            "asTypeSpecifier": {
                                                                "name": "{http://hl7.org/fhir}dateTime",
                                                                "type": "NamedTypeSpecifier"
                                                            }
                                                        }
                                                    ]
                                                },
                                                {
                                                    "name": "ToInterval",
                                                    "libraryName": "FHIRHelpers",
                                                    "type": "FunctionRef",
                                                    "operand": [
                                                        {
                                                            "path": "period",
                                                            "scope": "E",
                                                            "type": "Property"
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "name": "Quantitative Laboratory Encounters (2)",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "E",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Encounter",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Encounter",
                                    "type": "Retrieve"
                                }
                            }
                        ],
                        "relationship": [
                            {
                                "alias": "O",
                                "type": "With",
                                "expression": {
                                    "name": "Final or Amended Quantitative Laboratory Results",
                                    "type": "ExpressionRef"
                                },
                                "suchThat": {
                                    "type": "In",
                                    "operand": [
                                        {
                                            "name": "ToDateTime",
                                            "libraryName": "FHIRHelpers",
                                            "type": "FunctionRef",
                                            "operand": [
                                                {
                                                    "strict": false,
                                                    "type": "As",
                                                    "operand": {
                                                        "path": "effective",
                                                        "scope": "O",
                                                        "type": "Property"
                                                    },
                                                    "asTypeSpecifier": {
                                                        "name": "{http://hl7.org/fhir}dateTime",
                                                        "type": "NamedTypeSpecifier"
                                                    }
                                                }
                                            ]
                                        },
                                        {
                                            "name": "ToInterval",
                                            "libraryName": "FHIRHelpers",
                                            "type": "FunctionRef",
                                            "operand": [
                                                {
                                                    "path": "period",
                                                    "scope": "E",
                                                    "type": "Property"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "name": "Quantitative Laboratory Encounters (3)",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "E",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Encounter",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Encounter",
                                    "type": "Retrieve"
                                }
                            }
                        ],
                        "where": {
                            "type": "Exists",
                            "operand": {
                                "type": "Query",
                                "source": [
                                    {
                                        "alias": "O",
                                        "expression": {
                                            "name": "Final or Amended Quantitative Laboratory Results",
                                            "type": "ExpressionRef"
                                        }
                                    }
                                ],
                                "where": {
                                    "type": "In",
                                    "operand": [
                                        {
                                            "name": "ToDateTime",
                                            "libraryName": "FHIRHelpers",
                                            "type": "FunctionRef",
                                            "operand": [
                                                {
                                                    "strict": false,
                                                    "type": "As",
                                                    "operand": {
                                                        "path": "effective",
                                                        "scope": "O",
                                                        "type": "Property"
                                                    },
                                                    "asTypeSpecifier": {
                                                        "name": "{http://hl7.org/fhir}dateTime",
                                                        "type": "NamedTypeSpecifier"
                                                    }
                                                }
                                            ]
                                        },
                                        {
                                            "name": "ToInterval",
                                            "libraryName": "FHIRHelpers",
                                            "type": "FunctionRef",
                                            "operand": [
                                                {
                                                    "path": "period",
                                                    "scope": "E",
                                                    "type": "Property"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    }
                },
                {
                    "name": "Procedure",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "dataType": "{http://hl7.org/fhir}Procedure",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Procedure",
                        "type": "Retrieve"
                    }
                },
                {
                    "name": "Encounter Without Procedure",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "E",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Encounter",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Encounter",
                                    "type": "Retrieve"
                                }
                            }
                        ],
                        "relationship": [
                            {
                                "alias": "P",
                                "type": "Without",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Procedure",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Procedure",
                                    "type": "Retrieve"
                                },
                                "suchThat": {
                                    "type": "In",
                                    "operand": [
                                        {
                                            "name": "ToDateTime",
                                            "libraryName": "FHIRHelpers",
                                            "type": "FunctionRef",
                                            "operand": [
                                                {
                                                    "strict": false,
                                                    "type": "As",
                                                    "operand": {
                                                        "path": "performed",
                                                        "scope": "P",
                                                        "type": "Property"
                                                    },
                                                    "asTypeSpecifier": {
                                                        "name": "{http://hl7.org/fhir}dateTime",
                                                        "type": "NamedTypeSpecifier"
                                                    }
                                                }
                                            ]
                                        },
                                        {
                                            "name": "ToInterval",
                                            "libraryName": "FHIRHelpers",
                                            "type": "FunctionRef",
                                            "operand": [
                                                {
                                                    "path": "period",
                                                    "scope": "E",
                                                    "type": "Property"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "name": "Encounter Without Procedure (2)",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "E",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Encounter",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Encounter",
                                    "type": "Retrieve"
                                }
                            }
                        ],
                        "where": {
                            "type": "Not",
                            "operand": {
                                "type": "Exists",
                                "operand": {
                                    "type": "Query",
                                    "source": [
                                        {
                                            "alias": "P",
                                            "expression": {
                                                "dataType": "{http://hl7.org/fhir}Procedure",
                                                "templateId": "http://hl7.org/fhir/StructureDefinition/Procedure",
                                                "type": "Retrieve"
                                            }
                                        }
                                    ],
                                    "where": {
                                        "type": "In",
                                        "operand": [
                                            {
                                                "name": "ToDateTime",
                                                "libraryName": "FHIRHelpers",
                                                "type": "FunctionRef",
                                                "operand": [
                                                    {
                                                        "strict": false,
                                                        "type": "As",
                                                        "operand": {
                                                            "path": "performed",
                                                            "scope": "P",
                                                            "type": "Property"
                                                        },
                                                        "asTypeSpecifier": {
                                                            "name": "{http://hl7.org/fhir}dateTime",
                                                            "type": "NamedTypeSpecifier"
                                                        }
                                                    }
                                                ]
                                            },
                                            {
                                                "name": "ToInterval",
                                                "libraryName": "FHIRHelpers",
                                                "type": "FunctionRef",
                                                "operand": [
                                                    {
                                                        "path": "period",
                                                        "scope": "E",
                                                        "type": "Property"
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                {
                    "name": "Blood Glucose Observations",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "O",
                                "expression": {
                                    "dataType": "{http://hl7.org/fhir}Observation",
                                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                                    "codeProperty": "category",
                                    "codeComparator": "in",
                                    "type": "Retrieve",
                                    "codes": {
                                        "name": "Laboratory",
                                        "preserve": true,
                                        "type": "ValueSetRef"
                                    }
                                }
                            }
                        ],
                        "where": {
                            "type": "And",
                            "operand": [
                                {
                                    "type": "And",
                                    "operand": [
                                        {
                                            "type": "In",
                                            "operand": [
                                                {
                                                    "name": "ToString",
                                                    "libraryName": "FHIRHelpers",
                                                    "type": "FunctionRef",
                                                    "operand": [
                                                        {
                                                            "path": "status",
                                                            "scope": "O",
                                                            "type": "Property"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "List",
                                                    "element": [
                                                        {
                                                            "valueType": "{urn:hl7-org:elm-types:r1}String",
                                                            "value": "final",
                                                            "type": "Literal"
                                                        },
                                                        {
                                                            "valueType": "{urn:hl7-org:elm-types:r1}String",
                                                            "value": "amended",
                                                            "type": "Literal"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Is",
                                            "operand": {
                                                "path": "value",
                                                "scope": "O",
                                                "type": "Property"
                                            },
                                            "isTypeSpecifier": {
                                                "name": "{http://hl7.org/fhir}Quantity",
                                                "type": "NamedTypeSpecifier"
                                            }
                                        }
                                    ]
                                },
                                {
                                    "type": "Equivalent",
                                    "operand": [
                                        {
                                            "name": "ToConcept",
                                            "libraryName": "FHIRHelpers",
                                            "type": "FunctionRef",
                                            "operand": [
                                                {
                                                    "path": "code",
                                                    "scope": "O",
                                                    "type": "Property"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "ToConcept",
                                            "operand": {
                                                "name": "Blood Glucose",
                                                "type": "CodeRef"
                                            }
                                        }
                                    ]
                                }
                            ]
                        },
                        "sort": {
                            "by": [
                                {
                                    "direction": "desc",
                                    "type": "ByExpression",
                                    "expression": {
                                        "name": "ToDateTime",
                                        "libraryName": "FHIRHelpers",
                                        "type": "FunctionRef",
                                        "operand": [
                                            {
                                                "strict": false,
                                                "type": "As",
                                                "operand": {
                                                    "name": "effective",
                                                    "type": "IdentifierRef"
                                                },
                                                "asTypeSpecifier": {
                                                    "name": "{http://hl7.org/fhir}dateTime",
                                                    "type": "NamedTypeSpecifier"
                                                }
                                            }
                                        ]
                                    }
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Blood Glucose Observations (2)",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "O",
                                "expression": {
                                    "name": "Final or Amended Quantitative Laboratory Results",
                                    "type": "ExpressionRef"
                                }
                            }
                        ],
                        "where": {
                            "type": "Equivalent",
                            "operand": [
                                {
                                    "name": "ToConcept",
                                    "libraryName": "FHIRHelpers",
                                    "type": "FunctionRef",
                                    "operand": [
                                        {
                                            "path": "code",
                                            "scope": "O",
                                            "type": "Property"
                                        }
                                    ]
                                },
                                {
                                    "type": "ToConcept",
                                    "operand": {
                                        "name": "Blood Glucose",
                                        "type": "CodeRef"
                                    }
                                }
                            ]
                        },
                        "sort": {
                            "by": [
                                {
                                    "direction": "desc",
                                    "type": "ByExpression",
                                    "expression": {
                                        "name": "ToDateTime",
                                        "libraryName": "FHIRHelpers",
                                        "type": "FunctionRef",
                                        "operand": [
                                            {
                                                "strict": false,
                                                "type": "As",
                                                "operand": {
                                                    "name": "effective",
                                                    "type": "IdentifierRef"
                                                },
                                                "asTypeSpecifier": {
                                                    "name": "{http://hl7.org/fhir}dateTime",
                                                    "type": "NamedTypeSpecifier"
                                                }
                                            }
                                        ]
                                    }
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Most Recent Blood Glucose",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "First",
                        "source": {
                            "name": "Blood Glucose Observations",
                            "type": "ExpressionRef"
                        }
                    }
                },
                {
                    "name": "Difference Between Two Most Recent Blood Glucose",
                    "context": "Unfiltered",
                    "accessLevel": "Public",
                    "expression": {
                        "type": "Query",
                        "source": [
                            {
                                "alias": "MR",
                                "expression": {
                                    "name": "Most Recent Blood Glucose",
                                    "type": "ExpressionRef"
                                }
                            }
                        ],
                        "let": [
                            {
                                "identifier": "priorBloodGlucose",
                                "expression": {
                                    "type": "First",
                                    "source": {
                                        "type": "Query",
                                        "source": [
                                            {
                                                "alias": "O",
                                                "expression": {
                                                    "name": "Blood Glucose Observations",
                                                    "type": "ExpressionRef"
                                                }
                                            }
                                        ],
                                        "where": {
                                            "type": "Before",
                                            "operand": [
                                                {
                                                    "name": "ToDateTime",
                                                    "libraryName": "FHIRHelpers",
                                                    "type": "FunctionRef",
                                                    "operand": [
                                                        {
                                                            "strict": false,
                                                            "type": "As",
                                                            "operand": {
                                                                "path": "effective",
                                                                "scope": "O",
                                                                "type": "Property"
                                                            },
                                                            "asTypeSpecifier": {
                                                                "name": "{http://hl7.org/fhir}dateTime",
                                                                "type": "NamedTypeSpecifier"
                                                            }
                                                        }
                                                    ]
                                                },
                                                {
                                                    "name": "ToDateTime",
                                                    "libraryName": "FHIRHelpers",
                                                    "type": "FunctionRef",
                                                    "operand": [
                                                        {
                                                            "strict": false,
                                                            "type": "As",
                                                            "operand": {
                                                                "path": "effective",
                                                                "type": "Property",
                                                                "source": {
                                                                    "name": "Most Recent Blood Glucose",
                                                                    "type": "ExpressionRef"
                                                                }
                                                            },
                                                            "asTypeSpecifier": {
                                                                "name": "{http://hl7.org/fhir}dateTime",
                                                                "type": "NamedTypeSpecifier"
                                                            }
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        ],
                        "return": {
                            "expression": {
                                "type": "Subtract",
                                "operand": [
                                    {
                                        "name": "ToQuantity",
                                        "libraryName": "FHIRHelpers",
                                        "type": "FunctionRef",
                                        "operand": [
                                            {
                                                "strict": false,
                                                "type": "As",
                                                "operand": {
                                                    "path": "value",
                                                    "scope": "MR",
                                                    "type": "Property"
                                                },
                                                "asTypeSpecifier": {
                                                    "name": "{http://hl7.org/fhir}Quantity",
                                                    "type": "NamedTypeSpecifier"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "name": "ToQuantity",
                                        "libraryName": "FHIRHelpers",
                                        "type": "FunctionRef",
                                        "operand": [
                                            {
                                                "strict": false,
                                                "type": "As",
                                                "operand": {
                                                    "path": "value",
                                                    "type": "Property",
                                                    "source": {
                                                        "name": "priorBloodGlucose",
                                                        "type": "QueryLetRef"
                                                    }
                                                },
                                                "asTypeSpecifier": {
                                                    "name": "{http://hl7.org/fhir}Quantity",
                                                    "type": "NamedTypeSpecifier"
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        }
                    }
                }
            ]
        }
    }
}